<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="922px" preserveAspectRatio="none" style="width:963px;height:922px;" version="1.1" viewBox="0 0 963 922" width="963px" zoomAndPan="magnify"><defs><filter height="300%" id="fhr8qj7xe45ir" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#fhr8qj7xe45ir)" height="129.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="310.5" y="111.8594"/><rect fill="#FFFFFF" filter="url(#fhr8qj7xe45ir)" height="187.7969" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="310.5" y="335.3281"/><rect fill="#FFFFFF" filter="url(#fhr8qj7xe45ir)" height="246.0625" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="310.5" y="592.0625"/><rect fill="#FFFFFF" filter="url(#fhr8qj7xe45ir)" height="71.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="569.5" y="140.9922"/><rect fill="#FFFFFF" filter="url(#fhr8qj7xe45ir)" height="129.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="569.5" y="364.4609"/><rect fill="#FFFFFF" filter="url(#fhr8qj7xe45ir)" height="187.7969" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="569.5" y="621.1953"/><rect fill="#FFFFFF" filter="url(#fhr8qj7xe45ir)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="844.5" y="435.7266"/><rect fill="#FFFFFF" filter="url(#fhr8qj7xe45ir)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="844.5" y="692.4609"/><rect fill="#FFFFFF" filter="url(#fhr8qj7xe45ir)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="844.5" y="750.7266"/><rect fill="#FFFFFF" filter="url(#fhr8qj7xe45ir)" height="772.5313" style="stroke: #000000; stroke-width: 2.0;" width="939" x="10" y="73.5938"/><rect fill="#FFFFFF" height="281.7344" style="stroke: none; stroke-width: 1.0;" width="939" x="10" y="274.3906"/><rect fill="#FFFFFF" height="290" style="stroke: none; stroke-width: 1.0;" width="939" x="10" y="556.125"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="67" x2="67" y1="56.5938" y2="863.125"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="315.5" x2="315.5" y1="56.5938" y2="863.125"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="574" x2="574" y1="56.5938" y2="863.125"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="849" x2="849" y1="56.5938" y2="863.125"/><rect fill="#FEFECE" filter="url(#fhr8qj7xe45ir)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="91" x="20" y="21.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="77" x="27" y="41.292">DAU Client</text><rect fill="#FEFECE" filter="url(#fhr8qj7xe45ir)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="91" x="20" y="862.125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="77" x="27" y="882.1201">DAU Client</text><rect fill="#FEFECE" filter="url(#fhr8qj7xe45ir)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="140" x="243.5" y="21.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="126" x="250.5" y="41.292">Nodes/Renditions</text><rect fill="#FEFECE" filter="url(#fhr8qj7xe45ir)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="140" x="243.5" y="862.125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="126" x="250.5" y="882.1201">Nodes/Renditions</text><rect fill="#FEFECE" filter="url(#fhr8qj7xe45ir)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="131" x="507" y="21.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="117" x="514" y="41.292">Content Service</text><rect fill="#FEFECE" filter="url(#fhr8qj7xe45ir)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="131" x="507" y="862.125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="117" x="514" y="882.1201">Content Service</text><rect fill="#FEFECE" filter="url(#fhr8qj7xe45ir)" height="46.5938" style="stroke: #A80036; stroke-width: 1.5;" width="175" x="760" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="104" x="795.5" y="24.9951">Content Store</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="161" x="767" y="41.292">(Aggregating/Caching)</text><rect fill="#FEFECE" filter="url(#fhr8qj7xe45ir)" height="46.5938" style="stroke: #A80036; stroke-width: 1.5;" width="175" x="760" y="862.125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="104" x="795.5" y="882.1201">Content Store</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="161" x="767" y="898.417">(Aggregating/Caching)</text><rect fill="#FFFFFF" filter="url(#fhr8qj7xe45ir)" height="129.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="310.5" y="111.8594"/><rect fill="#FFFFFF" filter="url(#fhr8qj7xe45ir)" height="187.7969" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="310.5" y="335.3281"/><rect fill="#FFFFFF" filter="url(#fhr8qj7xe45ir)" height="246.0625" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="310.5" y="592.0625"/><rect fill="#FFFFFF" filter="url(#fhr8qj7xe45ir)" height="71.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="569.5" y="140.9922"/><rect fill="#FFFFFF" filter="url(#fhr8qj7xe45ir)" height="129.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="569.5" y="364.4609"/><rect fill="#FFFFFF" filter="url(#fhr8qj7xe45ir)" height="187.7969" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="569.5" y="621.1953"/><rect fill="#FFFFFF" filter="url(#fhr8qj7xe45ir)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="844.5" y="435.7266"/><rect fill="#FFFFFF" filter="url(#fhr8qj7xe45ir)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="844.5" y="692.4609"/><rect fill="#FFFFFF" filter="url(#fhr8qj7xe45ir)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="844.5" y="750.7266"/><path d="M10,73.5938 L76,73.5938 L76,80.5938 L66,90.5938 L10,90.5938 L10,73.5938 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="772.5313" style="stroke: #000000; stroke-width: 2.0;" width="939" x="10" y="73.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="21" x="25" y="86.6606">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="208" x="91" y="85.8042">[DAU is disabled (system-wide)]</text><polygon fill="#A80036" points="298.5,107.8594,308.5,111.8594,298.5,115.8594,302.5,111.8594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="67.5" x2="304.5" y1="111.8594" y2="111.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="74.5" y="106.7935">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="188" x="87.5" y="106.7935">Request DAU (nodeId: String)</text><polygon fill="#A80036" points="557.5,136.9922,567.5,140.9922,557.5,144.9922,561.5,140.9922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="320.5" x2="563.5" y1="140.9922" y2="140.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="327.5" y="135.9263">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="217" x="340.5" y="135.9263">Request DAU (nodeRef: NodeRef)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="579.5" x2="621.5" y1="170.125" y2="170.125"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="621.5" x2="621.5" y1="170.125" y2="183.125"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="580.5" x2="621.5" y1="183.125" y2="183.125"/><polygon fill="#A80036" points="590.5,179.125,580.5,183.125,590.5,187.125,586.5,183.125" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="8" x="586.5" y="165.0591">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="239" x="598.5" y="165.0591">Check if DAU is enabled system-wide</text><polygon fill="#A80036" points="331.5,208.2578,321.5,212.2578,331.5,216.2578,327.5,212.2578" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="325.5" x2="573.5" y1="212.2578" y2="212.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="337.5" y="207.1919">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="350.5" y="207.1919">throw Exception</text><polygon fill="#A80036" points="78.5,237.3906,68.5,241.3906,78.5,245.3906,74.5,241.3906" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="72.5" x2="314.5" y1="241.3906" y2="241.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="84.5" y="236.3247">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="97.5" y="236.3247">throw Exception</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="10" x2="949" y1="275.3906" y2="275.3906"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="333" x="15" y="285.6011">[DAU is enabled (system-wide) but not supported]</text><polygon fill="#A80036" points="298.5,331.3281,308.5,335.3281,298.5,339.3281,302.5,335.3281" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="67.5" x2="304.5" y1="335.3281" y2="335.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="74.5" y="330.2622">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="188" x="87.5" y="330.2622">Request DAU (nodeId: String)</text><polygon fill="#A80036" points="557.5,360.4609,567.5,364.4609,557.5,368.4609,561.5,364.4609" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="320.5" x2="563.5" y1="364.4609" y2="364.4609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="327.5" y="359.395">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="217" x="340.5" y="359.395">Request DAU (nodeRef: NodeRef)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="579.5" x2="621.5" y1="393.5938" y2="393.5938"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="621.5" x2="621.5" y1="393.5938" y2="406.5938"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="580.5" x2="621.5" y1="406.5938" y2="406.5938"/><polygon fill="#A80036" points="590.5,402.5938,580.5,406.5938,590.5,410.5938,586.5,406.5938" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="8" x="586.5" y="388.5278">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="239" x="598.5" y="388.5278">Check if DAU is enabled system-wide</text><polygon fill="#A80036" points="832.5,431.7266,842.5,435.7266,832.5,439.7266,836.5,435.7266" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="579.5" x2="838.5" y1="435.7266" y2="435.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="586.5" y="430.6606">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="193" x="599.5" y="430.6606">Interogate if DAU is supported</text><polygon fill="#A80036" points="590.5,460.8594,580.5,464.8594,590.5,468.8594,586.5,464.8594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="584.5" x2="848.5" y1="464.8594" y2="464.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="596.5" y="459.7935">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="135" x="609.5" y="459.7935">false (not supported)</text><polygon fill="#A80036" points="331.5,489.9922,321.5,493.9922,331.5,497.9922,327.5,493.9922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="325.5" x2="573.5" y1="493.9922" y2="493.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="337.5" y="488.9263">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="22" x="350.5" y="488.9263">null</text><polygon fill="#A80036" points="78.5,519.125,68.5,523.125,78.5,527.125,74.5,523.125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="72.5" x2="314.5" y1="523.125" y2="523.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="84.5" y="518.0591">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="206" x="97.5" y="518.0591">throw DisabledServiceException</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="10" x2="949" y1="557.125" y2="557.125"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="306" x="15" y="567.3354">[DAU is enabled (system-wide) and supported]</text><polygon fill="#A80036" points="298.5,588.0625,308.5,592.0625,298.5,596.0625,302.5,592.0625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="67.5" x2="304.5" y1="592.0625" y2="592.0625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="74.5" y="586.9966">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="188" x="87.5" y="586.9966">Request DAU (nodeId: String)</text><polygon fill="#A80036" points="557.5,617.1953,567.5,621.1953,557.5,625.1953,561.5,621.1953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="320.5" x2="563.5" y1="621.1953" y2="621.1953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="327.5" y="616.1294">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="217" x="340.5" y="616.1294">Request DAU (nodeRef: NodeRef)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="579.5" x2="621.5" y1="650.3281" y2="650.3281"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="621.5" x2="621.5" y1="650.3281" y2="663.3281"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="580.5" x2="621.5" y1="663.3281" y2="663.3281"/><polygon fill="#A80036" points="590.5,659.3281,580.5,663.3281,590.5,667.3281,586.5,663.3281" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="8" x="586.5" y="645.2622">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="239" x="598.5" y="645.2622">Check if DAU is enabled system-wide</text><polygon fill="#A80036" points="832.5,688.4609,842.5,692.4609,832.5,696.4609,836.5,692.4609" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="579.5" x2="838.5" y1="692.4609" y2="692.4609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="586.5" y="687.395">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="193" x="599.5" y="687.395">Interogate if DAU is supported</text><polygon fill="#A80036" points="590.5,717.5938,580.5,721.5938,590.5,725.5938,586.5,721.5938" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="584.5" x2="848.5" y1="721.5938" y2="721.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="596.5" y="716.5278">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="105" x="609.5" y="716.5278">true (supported)</text><polygon fill="#A80036" points="832.5,746.7266,842.5,750.7266,832.5,754.7266,836.5,750.7266" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="579.5" x2="838.5" y1="750.7266" y2="750.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="586.5" y="745.6606">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="211" x="599.5" y="745.6606">Request DAU (contentUrl: String)</text><polygon fill="#A80036" points="590.5,775.8594,580.5,779.8594,590.5,783.8594,586.5,779.8594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="584.5" x2="848.5" y1="779.8594" y2="779.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="596.5" y="774.7935">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="28" x="609.5" y="774.7935">DAU</text><polygon fill="#A80036" points="331.5,804.9922,321.5,808.9922,331.5,812.9922,327.5,808.9922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="325.5" x2="573.5" y1="808.9922" y2="808.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="337.5" y="803.9263">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="28" x="350.5" y="803.9263">DAU</text><polygon fill="#A80036" points="78.5,834.125,68.5,838.125,78.5,842.125,74.5,838.125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="72.5" x2="314.5" y1="838.125" y2="838.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="84.5" y="833.0591">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="28" x="97.5" y="833.0591">DAU</text><!--MD5=[571e5cb0a0099a2a5332ab890097c3fc]
@startuml
participant "DAU Client" as Client
participant "Nodes/Renditions" as Nodes
participant "Content Service" as CService
participant "Content Store\n(Aggregating/Caching)" as CStore

autonumber

alt DAU is disabled (system-wide)
  Client -> Nodes ++ : Request DAU (nodeId: String)
  Nodes -> CService ++ : Request DAU (nodeRef: NodeRef)
  CService -> CService : Check if DAU is enabled system-wide
  return throw Exception
  return throw Exception
|||
else DAU is enabled (system-wide) but not supported
|||
  autonumber 1
  Client -> Nodes ++ : Request DAU (nodeId: String)
  Nodes -> CService ++ : Request DAU (nodeRef: NodeRef)
  CService -> CService : Check if DAU is enabled system-wide
  CService -> CStore ++ : Interogate if DAU is supported
  return false (not supported)
  return null
  return throw DisabledServiceException
|||
else DAU is enabled (system-wide) and supported
  autonumber 1
  Client -> Nodes ++ : Request DAU (nodeId: String)
  Nodes -> CService ++ : Request DAU (nodeRef: NodeRef)
  CService -> CService : Check if DAU is enabled system-wide
  CService -> CStore ++ : Interogate if DAU is supported
  return true (supported)
  CService -> CStore ++ : Request DAU (contentUrl: String)
  return DAU
  return DAU
  return DAU
end
@enduml

PlantUML version 1.2020.20beta13(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>