<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="411px" preserveAspectRatio="none" style="width:922px;height:411px;" version="1.1" viewBox="0 0 922 411" width="922px" zoomAndPan="magnify"><defs><filter height="300%" id="f1bbpa6zigcs5y" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1bbpa6zigcs5y)" height="246.0625" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="262" y="87.7266"/><rect fill="#FFFFFF" filter="url(#f1bbpa6zigcs5y)" height="187.7969" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="466.5" y="116.8594"/><rect fill="#FFFFFF" filter="url(#f1bbpa6zigcs5y)" height="129.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="640" y="145.9922"/><rect fill="#FFFFFF" filter="url(#f1bbpa6zigcs5y)" height="71.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="793" y="175.125"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="79" x2="79" y1="56.5938" y2="351.7891"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="267" x2="267" y1="56.5938" y2="351.7891"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="471" x2="471" y1="56.5938" y2="351.7891"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="645" x2="645" y1="56.5938" y2="351.7891"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="798" x2="798" y1="56.5938" y2="351.7891"/><rect fill="#FEFECE" filter="url(#f1bbpa6zigcs5y)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="145" x="5" y="21.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="131" x="12" y="41.292">DAU Client Thread</text><rect fill="#FEFECE" filter="url(#f1bbpa6zigcs5y)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="145" x="5" y="350.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="131" x="12" y="370.7842">DAU Client Thread</text><rect fill="#FEFECE" filter="url(#f1bbpa6zigcs5y)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="202" x="164" y="21.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="188" x="171" y="41.292">Agregating Content Store</text><rect fill="#FEFECE" filter="url(#f1bbpa6zigcs5y)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="202" x="164" y="350.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="188" x="171" y="370.7842">Agregating Content Store</text><rect fill="#FEFECE" filter="url(#f1bbpa6zigcs5y)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="179" x="380" y="21.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="165" x="387" y="41.292">Caching Content Store</text><rect fill="#FEFECE" filter="url(#f1bbpa6zigcs5y)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="179" x="380" y="350.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="165" x="387" y="370.7842">Caching Content Store</text><rect fill="#FEFECE" filter="url(#f1bbpa6zigcs5y)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="140" x="573" y="21.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="126" x="580" y="41.292">S3 Content Store</text><rect fill="#FEFECE" filter="url(#f1bbpa6zigcs5y)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="140" x="573" y="350.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="126" x="580" y="370.7842">S3 Content Store</text><rect fill="#FEFECE" filter="url(#f1bbpa6zigcs5y)" height="46.5938" style="stroke: #A80036; stroke-width: 1.5;" width="138" x="727" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="124" x="734" y="24.9951">S3 Client Java API</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="77" x="757.5" y="41.292">(AWS SDK)</text><rect fill="#FEFECE" filter="url(#f1bbpa6zigcs5y)" height="46.5938" style="stroke: #A80036; stroke-width: 1.5;" width="138" x="727" y="350.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="124" x="734" y="370.7842">S3 Client Java API</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="77" x="757.5" y="387.0811">(AWS SDK)</text><rect fill="#FFFFFF" filter="url(#f1bbpa6zigcs5y)" height="246.0625" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="262" y="87.7266"/><rect fill="#FFFFFF" filter="url(#f1bbpa6zigcs5y)" height="187.7969" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="466.5" y="116.8594"/><rect fill="#FFFFFF" filter="url(#f1bbpa6zigcs5y)" height="129.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="640" y="145.9922"/><rect fill="#FFFFFF" filter="url(#f1bbpa6zigcs5y)" height="71.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="793" y="175.125"/><polygon fill="#A80036" points="250,83.7266,260,87.7266,250,91.7266,254,87.7266" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="79.5" x2="256" y1="87.7266" y2="87.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="86.5" y="82.6606">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="85" x="99.5" y="82.6606">Request DAU</text><polygon fill="#A80036" points="454.5,112.8594,464.5,116.8594,454.5,120.8594,458.5,116.8594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="272" x2="460.5" y1="116.8594" y2="116.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="279" y="111.7935">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="85" x="292" y="111.7935">Request DAU</text><polygon fill="#A80036" points="628,141.9922,638,145.9922,628,149.9922,632,145.9922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="476.5" x2="634" y1="145.9922" y2="145.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="8" x="483.5" y="140.9263">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="85" x="495.5" y="140.9263">Request DAU</text><polygon fill="#A80036" points="781,171.125,791,175.125,781,179.125,785,175.125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="650" x2="787" y1="175.125" y2="175.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="657" y="170.0591">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="85" x="670" y="170.0591">Request DAU</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="803" x2="845" y1="204.2578" y2="204.2578"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="845" x2="845" y1="204.2578" y2="217.2578"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="804" x2="845" y1="217.2578" y2="217.2578"/><polygon fill="#A80036" points="814,213.2578,804,217.2578,814,221.2578,810,217.2578" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="810" y="199.1919">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="92" x="823" y="199.1919">Generate DAU</text><polygon fill="#A80036" points="661,242.3906,651,246.3906,661,250.3906,657,246.3906" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="655" x2="797" y1="246.3906" y2="246.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="667" y="241.3247">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="28" x="680" y="241.3247">DAU</text><polygon fill="#A80036" points="487.5,271.5234,477.5,275.5234,487.5,279.5234,483.5,275.5234" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="481.5" x2="644" y1="275.5234" y2="275.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="493.5" y="270.4575">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="28" x="506.5" y="270.4575">DAU</text><polygon fill="#A80036" points="283,300.6563,273,304.6563,283,308.6563,279,304.6563" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="277" x2="470.5" y1="304.6563" y2="304.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="289" y="299.5903">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="28" x="302" y="299.5903">DAU</text><polygon fill="#A80036" points="90.5,329.7891,80.5,333.7891,90.5,337.7891,86.5,333.7891" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="84.5" x2="266" y1="333.7891" y2="333.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="96.5" y="328.7231">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="28" x="109.5" y="328.7231">DAU</text><!--MD5=[a45cc4dbb8b2d1f80c6f7e3f7dff666f]
@startuml
participant "DAU Client Thread" as Client
participant "Agregating Content Store" as ACS
participant "Caching Content Store" as CCS
participant "S3 Content Store" as S3CS
participant "S3 Client Java API\n(AWS SDK)" as Sdk

autonumber

Client -> ACS ++ : Request DAU
ACS -> CCS ++ : Request DAU
CCS -> S3CS ++ : Request DAU
S3CS -> Sdk ++ : Request DAU
Sdk -> Sdk : Generate DAU
return DAU
return DAU
return DAU
return DAU
@enduml

PlantUML version 1.2020.20beta13(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>